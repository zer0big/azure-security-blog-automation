# ë°°í¬ ê°€ì´ë“œ

## ì‚¬ì „ ìš”êµ¬ì‚¬í•­

### í•„ìˆ˜ ë„êµ¬

1. **Azure CLI** (ë²„ì „ 2.50.0 ì´ìƒ)
   - Windows: `winget install Microsoft.AzureCLI`
   - Mac: `brew install azure-cli`
   - Linux: [ì„¤ì¹˜ ê°€ì´ë“œ](https://learn.microsoft.com/ko-kr/cli/azure/install-azure-cli-linux)

2. **Azure Functions Core Tools** (ë²„ì „ 4.x)
   - Windows: `npm install -g azure-functions-core-tools@4`
   - Mac: `brew install azure-functions-core-tools@4`
   - Linux: [ì„¤ì¹˜ ê°€ì´ë“œ](https://learn.microsoft.com/ko-kr/azure/azure-functions/functions-run-local)

3. **.NET 8 SDK**
   - ë‹¤ìš´ë¡œë“œ: https://dotnet.microsoft.com/download/dotnet/8.0
   - í™•ì¸: `dotnet --version` (8.0.x ì´ì–´ì•¼ í•¨)

4. **Git**
   - ë‹¤ìš´ë¡œë“œ: https://git-scm.com/downloads
   - í™•ì¸: `git --version`

5. **(ì„ íƒ ì‚¬í•­) Visual Studio Code**
   - ë‹¤ìš´ë¡œë“œ: https://code.visualstudio.com/
   - ê¶Œì¥ í™•ì¥:
     - Azure Functions
     - Azure Logic Apps (Standard)
     - Bicep

### Azure ë¦¬ì†ŒìŠ¤ ì‚¬ì „ ìš”êµ¬ì‚¬í•­

1. **í™œì„± Azure êµ¬ë…**
   - ì•¡ì„¸ìŠ¤ í™•ì¸: `az account show`
   - êµ¬ë… ì„¤ì •: `az account set --subscription <subscription-id>`

2. **Azure OpenAI Service**
   - **ëª¨ë¸**: GPT-4o ë°°í¬
   - **ì§€ì—­**: ì§€ì›ë˜ëŠ” ëª¨ë“  ì§€ì—­ (Logic Appê³¼ ë™ì¼í•œ ì§€ì—­ ê¶Œì¥, ë‚®ì€ ì§€ì—° ì‹œê°„)
   - **ì°¸ê³ **: Azure OpenAI ì•¡ì„¸ìŠ¤ ê¶Œí•œì´ ì—†ëŠ” ê²½ìš° ìš”ì²­ í•„ìš”
   - **ë¬¸ì„œ**: [Azure OpenAI ë¹ ë¥¸ ì‹œì‘](https://learn.microsoft.com/ko-kr/azure/ai-services/openai/quickstart)

3. **í•„ìˆ˜ Azure ê¶Œí•œ**
   - êµ¬ë… ë˜ëŠ” ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ì— ëŒ€í•œ `ê¸°ì—¬ì` ì—­í• 
   - ë‹¤ìŒì„ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ:
     - Storage Accounts
     - App Service Plans
     - Function Apps
     - Logic Apps (Standard)
     - Application Insights

4. **Office 365 ê³„ì •**
   - ì´ë©”ì¼ ì•Œë¦¼ ë°œì†¡ì— í•„ìš”
   - Logic Appsì—ì„œ Office 365 Connectorë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ í•„ìš”

## ë‹¨ê³„ë³„ ë°°í¬

### 1ë‹¨ê³„: ë¦¬í¬ì§€í† ë¦¬ í´ë¡ 

```bash
git clone https://github.com/zer0big/azure-security-blog-automation.git
cd azure-security-blog-automation
```

### 2ë‹¨ê³„: Azure OpenAI êµ¬ì„±

#### ì˜µì…˜ A: ê¸°ì¡´ Azure OpenAI ì‚¬ìš©

1. Azure OpenAI ì—”ë“œí¬ì¸íŠ¸ ë° í‚¤ ê°€ì ¸ì˜¤ê¸°:
   ```bash
   # Azure OpenAI ë¦¬ì†ŒìŠ¤ ëª©ë¡ ì¡°íšŒ
   az cognitiveservices account list --query "[?kind=='OpenAI'].{Name:name, Endpoint:properties.endpoint, ResourceGroup:resourceGroup}" --output table
   
   # API í‚¤ ê°€ì ¸ì˜¤ê¸°
   az cognitiveservices account keys list --name <your-openai-resource-name> --resource-group <resource-group> --query key1 --output tsv
   ```

2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:
   ```powershell
   # PowerShell
   $env:AZURE_OPENAI_ENDPOINT = "https://<your-openai-resource>.openai.azure.com/"
   $env:AZURE_OPENAI_KEY = "<your-api-key>"
   ```
   
   ```bash
   # Bash
   export AZURE_OPENAI_ENDPOINT="https://<your-openai-resource>.openai.azure.com/"
   export AZURE_OPENAI_KEY="<your-api-key>"
   ```

#### ì˜µì…˜ B: ìƒˆ Azure OpenAI ë¦¬ì†ŒìŠ¤ ìƒì„±

```bash
# Azure OpenAI ë¦¬ì†ŒìŠ¤ ìƒì„±
az cognitiveservices account create \
  --name "aoai-security-blog-automation" \
  --resource-group "rg-security-blog-automation-dev" \
  --location "koreacentral" \
  --kind "OpenAI" \
  --sku "S0"

# GPT-4o ëª¨ë¸ ë°°í¬
az cognitiveservices account deployment create \
  --name "aoai-security-blog-automation" \
  --resource-group "rg-security-blog-automation-dev" \
  --deployment-name "gpt-4o" \
  --model-name "gpt-4o" \
  --model-version "2024-08-06" \
  --model-format "OpenAI" \
  --sku-capacity 10 \
  --sku-name "Standard"
```

### 3ë‹¨ê³„: Bicepì„ ì‚¬ìš©í•œ ì¸í”„ë¼ ë°°í¬

ì¸í”„ë¼ ë””ë ‰í† ë¦¬ë¡œ ì´ë™:

```bash
cd infra
```

#### ì˜µì…˜ A: PowerShellë¡œ ë°°í¬ (Windows)

```powershell
.\deploy.ps1 `
  -AzureOpenAIEndpoint $env:AZURE_OPENAI_ENDPOINT `
  -AzureOpenAIKey $env:AZURE_OPENAI_KEY `
  -ResourceGroupName "rg-security-blog-automation-dev" `
  -Location "koreacentral"
```

#### ì˜µì…˜ B: Bashë¡œ ë°°í¬ (Linux/Mac)

```bash
chmod +x deploy.sh

./deploy.sh \
  --openai-endpoint "$AZURE_OPENAI_ENDPOINT" \
  --openai-key "$AZURE_OPENAI_KEY" \
  --resource-group "rg-security-blog-automation-dev" \
  --location "koreacentral"
```

#### ì˜ˆìƒ ì¶œë ¥

```
âœ… ë°°í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰

ğŸ“‹ ë°°í¬ ìš”ì•½:
  ë¦¬ì†ŒìŠ¤ ê·¸ë£¹     : rg-security-blog-automation-dev
  Storage Account    : stdevsecurityblog
  Function App       : func-dev-security-blog-automation
  Function App URL   : https://func-dev-security-blog-automation.azurewebsites.net
  Logic App          : logic-dev-security-blog-automation
  Logic App URL      : https://logic-dev-security-blog-automation.azurewebsites.net
  Application Insights: appi-dev-security-blog-automation
```

### 4ë‹¨ê³„: Function App ì½”ë“œ ë°°í¬

1. functions ë””ë ‰í† ë¦¬ë¡œ ì´ë™:
   ```bash
   cd ../functions
   ```

2. Function App ë¹Œë“œ:
   ```bash
   dotnet build --configuration Release
   ```

3. Azureì— ë°°í¬:
   ```bash
   func azure functionapp publish func-dev-security-blog-automation
   ```

4. ë°°í¬ í™•ì¸:
   ```bash
   # Function App URL ê°€ì ¸ì˜¤ê¸°
   az functionapp show --name func-dev-security-blog-automation --resource-group rg-security-blog-automation-dev --query defaultHostName --output tsv
   
   # SummarizePost ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ (function key í•„ìš”)
   curl https://func-dev-security-blog-automation.azurewebsites.net/api/SummarizePost?code=<function-key>
   ```

### 5ë‹¨ê³„: Logic App ì›Œí¬í”Œë¡œìš° êµ¬ì„±

#### ì›Œí¬í”Œë¡œìš° ì •ì˜ ì„í¬íŠ¸

1. Azure Portal ì—´ê¸°: https://portal.azure.com

2. Logic Appìœ¼ë¡œ ì´ë™:
   - ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ â†’ `rg-security-blog-automation-dev`
   - `logic-dev-security-blog-automation` ì„ íƒ

3. **ë°©ë²• 1: Portalì„ í†µí•œ ì„í¬íŠ¸**
   - ì™¼ìª½ ë©”ë‰´ì—ì„œ "Logic app code view" í´ë¦­
   - `infra/logic-app/workflow-full.json`ì—ì„œ ë‚´ìš© ë³µì‚¬
   - í¸ì§‘ê¸°ì— ë¶™ì—¬ë„£ê¸°
   - ì €ì¥ (ì°¸ê³ : API ì—°ê²°ì€ ì¬êµ¬ì„± í•„ìš”)

4. **ë°©ë²• 2: VS Codeë¥¼ í†µí•œ ì„í¬íŠ¸**
   - "Azure Logic Apps (Standard)" í™•ì¥ ì„¤ì¹˜
   - VS Codeì—ì„œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì—´ê¸°
   - Azure êµ¬ë…ì— ì—°ê²°
   - Logic App ìš°í´ë¦­ â†’ "Download Remote Workflows"
   - ë‹¤ìš´ë¡œë“œí•œ ì›Œí¬í”Œë¡œìš°ë¥¼ `infra/logic-app/workflow-full.json`ìœ¼ë¡œ êµì²´
   - Azureì— ì—…ë¡œë“œ

#### API ì—°ê²° êµ¬ì„±

ì›Œí¬í”Œë¡œìš°ëŠ” ì¸ì¦ì´ í•„ìš”í•œ 3ê°€ì§€ ìœ í˜•ì˜ ì—°ê²°ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

##### 1. Office 365 ì—°ê²° (ì´ë©”ì¼ ë°œì†¡ìš©)

1. Logic App Designerì—ì„œ "Send_an_email_(V2)" ì•¡ì…˜ ì—´ê¸°
2. "Change connection" í´ë¦­
3. "+ Add new" í´ë¦­
4. Office 365 ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
5. ì´ë©”ì¼ ë°œì†¡ ê¶Œí•œ ë¶€ì—¬
6. ì›Œí¬í”Œë¡œìš° ì €ì¥

##### 2. RSS ì—°ê²° (í”¼ë“œ ê°€ì ¸ì˜¤ê¸°ìš©)

ì›Œí¬í”Œë¡œìš°ì—ëŠ” 5ê°œì˜ RSS ì•¡ì…˜ì´ ìˆìŠµë‹ˆë‹¤. ì´ë“¤ì€ ê¸°ë³¸ ì œê³µ ì»¤ë„¥í„°ì´ë©° ì¼ë°˜ì ìœ¼ë¡œ ì¶”ê°€ êµ¬ì„±ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì—°ê²° ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°:
1. Designerì—ì„œ ê° RSS ì•¡ì…˜ ì—´ê¸°
2. í”¼ë“œ URLì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
3. ì—°ê²° í…ŒìŠ¤íŠ¸

##### 3. HTTP ì•¡ì…˜ (Azure Functions í˜¸ì¶œìš©)

ë°°í¬ëœ Function Appì„ ê°€ë¦¬í‚¤ë„ë¡ HTTP ì•¡ì…˜ URLì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤:

1. "SummarizePost_HTTP" ì•¡ì…˜ ì—´ê¸°
2. URI ì—…ë°ì´íŠ¸: `https://func-dev-security-blog-automation.azurewebsites.net/api/SummarizePost?code=<function-key>`
3. "GenerateEmailHtml_HTTP" ì•¡ì…˜ ì—´ê¸°
4. URI ì—…ë°ì´íŠ¸: `https://func-dev-security-blog-automation.azurewebsites.net/api/GenerateEmailHtml?code=<function-key>`

**Function Key ê°€ì ¸ì˜¤ê¸°:**
```bash
az functionapp function keys list \
  --name func-dev-security-blog-automation \
  --resource-group rg-security-blog-automation-dev \
  --function-name SummarizePost \
  --query default --output tsv
```

#### ë°˜ë³µ ìŠ¤ì¼€ì¤„ ì„¤ì •

1. Designerì—ì„œ "Recurrence" íŠ¸ë¦¬ê±° ì—´ê¸°
2. ìŠ¤ì¼€ì¤„ êµ¬ì„±:
   - **ê°„ê²©**: 1
   - **ë¹ˆë„**: Hour
   - **ì´ ì‹œê°„ì—**: 7, 15, 22
   - **ì‹œê°„ëŒ€**: (UTC+09:00) Seoul
3. ì›Œí¬í”Œë¡œìš° ì €ì¥

### 6ë‹¨ê³„: ë°°í¬ í™•ì¸

#### Function App í…ŒìŠ¤íŠ¸

```bash
# Function App í‚¤ ê°€ì ¸ì˜¤ê¸°
FUNCTION_KEY=$(az functionapp function keys list \
  --name func-dev-security-blog-automation \
  --resource-group rg-security-blog-automation-dev \
  --function-name SummarizePost \
  --query default --output tsv)

# SummarizePost í…ŒìŠ¤íŠ¸
curl -X POST "https://func-dev-security-blog-automation.azurewebsites.net/api/SummarizePost?code=$FUNCTION_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://www.microsoft.com/en-us/security/blog/2024/01/01/test-post/",
    "title": "Test Security Post",
    "description": "This is a test description"
  }'
```

ì˜ˆìƒ ì‘ë‹µ:
```json
{
  "postId": "abc123def456",
  "summaryEnglish": "Test summary in English...",
  "summaryKorean": "í•œêµ­ì–´ í…ŒìŠ¤íŠ¸ ìš”ì•½...",
  "isProcessed": true
}
```

#### Logic App ìˆ˜ë™ í…ŒìŠ¤íŠ¸

1. Azure Portal â†’ Logic App ì´ë™
2. "ê°œìš”" â†’ "íŠ¸ë¦¬ê±° ì‹¤í–‰" â†’ "Recurrence" í´ë¦­
3. ì‹¤í–‰ ê¸°ë¡ ëª¨ë‹ˆí„°ë§:
   - ì‹¤í–‰ í´ë¦­
   - ê° ì•¡ì…˜ì„ í™•ì¥í•˜ì—¬ ì…ë ¥/ì¶œë ¥ í™•ì¸
   - ì´ë©”ì¼ì´ ë°œì†¡ë˜ì—ˆëŠ”ì§€ í™•ì¸

4. Application Insights í™•ì¸:
   ```bash
   az monitor app-insights query \
     --app appi-dev-security-blog-automation \
     --resource-group rg-security-blog-automation-dev \
     --analytics-query "traces | where timestamp > ago(1h) | order by timestamp desc | take 50"
   ```

#### Table Storage í™•ì¸

```bash
# ProcessedPosts í…Œì´ë¸” í•­ëª© ë‚˜ì—´
az storage entity query \
  --account-name stdevsecurityblog \
  --table-name ProcessedPosts \
  --auth-mode login \
  --query "items[].{PartitionKey:PartitionKey, RowKey:RowKey, Title:Title, ProcessedDate:ProcessedDate}" \
  --output table
```

### 7ë‹¨ê³„: ì´ë©”ì¼ í™•ì¸

1. ì´ë©”ì¼ ìˆ˜ì‹ ì ë°›ì€ í¸ì§€í•¨ í™•ì¸ (Office 365 ì•¡ì…˜ì—ì„œ êµ¬ì„±)
2. ì´ë©”ì¼ í˜•ì‹ í™•ì¸:
   - **ì œëª©**: `[Microsoft Azure ì—…ë°ì´íŠ¸] ìµœê·¼ ê²Œì‹œê¸€ ìš”ì•½ (ì‹ ê·œ Xê°œ)` ë˜ëŠ” `[Microsoft Azure ì—…ë°ì´íŠ¸] ìµœê·¼ ê²Œì‹œê¸€ ìš”ì•½ (ì‹ ê·œ ì—†ìŒ)`
   - **ë³¸ë¬¸**: ë‹¤ìŒì„ í¬í•¨í•œ HTML í˜•ì‹:
     - ë‚ ì§œê°€ ìˆëŠ” í—¤ë”
     - í”¼ë“œë³„ë¡œ ê·¸ë£¹í™”ëœ ê²Œì‹œê¸€ ëª©ë¡
     - ì˜ë¬¸ ë° í•œê¸€ ìš”ì•½
     - ë§í¬ê°€ ìˆëŠ” í‘¸í„°

3. ì˜ˆìƒ ì´ë©”ì¼ ìƒ˜í”Œ:
   - **ì‹ ê·œ ê²Œì‹œê¸€ ìˆìŒ**: ê°œìˆ˜, ìš”ì•½, ë§í¬ í‘œì‹œ
   - **ì‹ ê·œ ê²Œì‹œê¸€ ì—†ìŒ**: "ìƒˆë¡œìš´ ê²Œì‹œê¸€ 0ê°œ" ë©”ì‹œì§€ í‘œì‹œ

## ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. Bicep ë°°í¬ ì‹¤íŒ¨

**ì˜¤ë¥˜**: `Resource 'Microsoft.Storage/storageAccounts' already exists`

**í•´ê²°ì±…**:
```bash
# ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ì‚­ì œ
az group delete --name rg-security-blog-automation-dev --yes

# ì¬ë°°í¬
cd infra
.\deploy.ps1 -AzureOpenAIEndpoint $env:AZURE_OPENAI_ENDPOINT -AzureOpenAIKey $env:AZURE_OPENAI_KEY
```

#### 2. Function App ì‘ë‹µ ì—†ìŒ

**ì˜¤ë¥˜**: `503 Service Unavailable`

**í•´ê²°ì±…**:
```bash
# Function App ì¬ì‹œì‘
az functionapp restart --name func-dev-security-blog-automation --resource-group rg-security-blog-automation-dev

# ë¡œê·¸ í™•ì¸
az functionapp log tail --name func-dev-security-blog-automation --resource-group rg-security-blog-automation-dev
```

#### 3. Logic App ì—°ê²° ì˜¤ë¥˜

**ì˜¤ë¥˜**: `Unauthorized` ë˜ëŠ” `Connection not authenticated`

**í•´ê²°ì±…**:
1. Logic App â†’ API ì—°ê²°ë¡œ ì´ë™
2. ê° ì—°ê²° í´ë¦­ (Office 365, RSS)
3. ì—°ê²° ì¬ì¸ì¦
4. ì›Œí¬í”Œë¡œìš° ë‹¤ì‹œ í…ŒìŠ¤íŠ¸

#### 4. Azure OpenAI ì†ë„ ì œí•œ

**ì˜¤ë¥˜**: `429 Too Many Requests`

**í•´ê²°ì±…**:
```bash
# Azure OpenAI í• ë‹¹ëŸ‰ ì¦ê°€
az cognitiveservices account deployment update \
  --name <your-openai-resource> \
  --resource-group <resource-group> \
  --deployment-name gpt-4o \
  --sku-capacity 20
```

#### 5. ì´ë©”ì¼ ìˆ˜ì‹  ì•ˆ ë¨

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] Office 365 ì—°ê²° ì¸ì¦ë¨
- [ ] "Send_an_email_(V2)" ì•¡ì…˜ì˜ ì´ë©”ì¼ ìˆ˜ì‹ ì ì£¼ì†Œ ì •í™•í•¨
- [ ] Logic App ì‹¤í–‰ ê¸°ë¡ì— ì„±ê³µ í‘œì‹œ
- [ ] ìŠ¤íŒ¸/ì •í¬ í´ë” í™•ì¸
- [ ] Office 365 ê³„ì •ì— ì´ë©”ì¼ ë°œì†¡ ê¶Œí•œ ìˆìŒ

#### 6. Table Storage ì•¡ì„¸ìŠ¤ ê±°ë¶€

**ì˜¤ë¥˜**: `AuthorizationFailure` ë˜ëŠ” `403 Forbidden`

**í•´ê²°ì±…**:
```bash
# Function App ê´€ë¦¬ IDì— Storage Table Data Contributor ì—­í•  í• ë‹¹
FUNCTION_PRINCIPAL_ID=$(az functionapp identity show --name func-dev-security-blog-automation --resource-group rg-security-blog-automation-dev --query principalId --output tsv)

az role assignment create \
  --assignee $FUNCTION_PRINCIPAL_ID \
  --role "Storage Table Data Contributor" \
  --scope "/subscriptions/<subscription-id>/resourceGroups/rg-security-blog-automation-dev/providers/Microsoft.Storage/storageAccounts/stdevsecurityblog"
```

### ë””ë²„ê¹… íŒ

#### ìƒì„¸ ë¡œê¹… í™œì„±í™”

**Function App**:
```bash
# ë¡œê¹… ìˆ˜ì¤€ì„ Informationìœ¼ë¡œ ì„¤ì •
az functionapp config appsettings set \
  --name func-dev-security-blog-automation \
  --resource-group rg-security-blog-automation-dev \
  --settings "AzureFunctionsJobHost__logging__logLevel__default=Information"
```

**Logic App**:
1. Logic App â†’ ì„¤ì • â†’ ì›Œí¬í”Œë¡œìš° ì„¤ì •ìœ¼ë¡œ ì´ë™
2. "ì…ë ¥/ì¶œë ¥ ì„¸ë¶€ ì •ë³´ì™€ í•¨ê»˜ ì‹¤í–‰ ê¸°ë¡" í™œì„±í™”
3. ì €ì¥

#### Application Insights Live Metrics ë³´ê¸°

```bash
# ë¸Œë¼ìš°ì €ì—ì„œ Live Metrics ì—´ê¸°
az monitor app-insights component show \
  --app appi-dev-security-blog-automation \
  --resource-group rg-security-blog-automation-dev \
  --query "appId" --output tsv
```

ë‹¤ìŒìœ¼ë¡œ ì´ë™: `https://portal.azure.com/#@<tenant-id>/resource/subscriptions/<subscription-id>/resourceGroups/rg-security-blog-automation-dev/providers/microsoft.insights/components/appi-dev-security-blog-automation/quickPulse`

#### ë¶„ì„ì„ ìœ„í•œ ë¡œê·¸ ë‚´ë³´ë‚´ê¸°

```bash
# ì§€ë‚œ 24ì‹œê°„ì˜ Function ë¡œê·¸ ë‚´ë³´ë‚´ê¸°
az monitor app-insights query \
  --app appi-dev-security-blog-automation \
  --resource-group rg-security-blog-automation-dev \
  --analytics-query "traces | where timestamp > ago(24h) | project timestamp, message, severityLevel | order by timestamp desc" \
  --output json > function-logs.json
```

## ë°°í¬ í›„ êµ¬ì„±

### ì´ë©”ì¼ ìˆ˜ì‹ ì ì»¤ìŠ¤í„°ë§ˆì´ì§•

1. Logic App Designer ì—´ê¸°
2. "Send_an_email_(V2)" ì•¡ì…˜ ì°¾ê¸°
3. ìˆ˜ì •:
   - **ë°›ëŠ” ì‚¬ëŒ**: ì´ë©”ì¼ ì£¼ì†Œ ì¶”ê°€ ë˜ëŠ” ë³€ê²½
   - **ì°¸ì¡°**: ì°¸ì¡° ìˆ˜ì‹ ì ì¶”ê°€
   - **ì œëª©**: ì œëª© í…œí”Œë¦¿ ì»¤ìŠ¤í„°ë§ˆì´ì§•
   - **ë³¸ë¬¸**: HTML í…œí”Œë¦¿ ìˆ˜ì • (ê³ ê¸‰)

### ìŠ¤ì¼€ì¤„ ì¡°ì •

ì´ë©”ì¼ ë¹ˆë„ ë³€ê²½ (ì˜ˆ: í•˜ë£¨ì— í•œ ë²ˆ 09:00ì—ë§Œ):

1. Logic App Designer ì—´ê¸°
2. "Recurrence" íŠ¸ë¦¬ê±° í´ë¦­
3. ì—…ë°ì´íŠ¸:
   - **ì´ ì‹œê°„ì—**: 9
   - **ì‹œê°„ëŒ€**: (UTC+09:00) Seoul
4. ì €ì¥

### RSS í”¼ë“œ ì¶”ê°€

1. Logic App Designer ì—´ê¸°
2. ê¸°ì¡´ RSS í”¼ë“œ ì²˜ë¦¬ ë¸”ë¡ ì¤‘ í•˜ë‚˜ ë³µì œ
3. ì—…ë°ì´íŠ¸:
   - **í”¼ë“œ URL**: ìƒˆ RSS í”¼ë“œ URL
   - **í”¼ë“œ ì´ë¦„**: ì´ëª¨ì§€ + ì„¤ëª… ì´ë¦„
4. ë™ì¼í•œ ì²˜ë¦¬ íë¦„ì— ì—°ê²°
5. ì €ì¥

### Azure OpenAI ëª¨ë¸ ë³€ê²½

```bash
# Function App ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì • ì—…ë°ì´íŠ¸
az functionapp config appsettings set \
  --name func-dev-security-blog-automation \
  --resource-group rg-security-blog-automation-dev \
  --settings "AZURE_OPENAI_DEPLOYMENT=gpt-4o-mini"
```

## ì •ë¦¬

### ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì‚­ì œ

```bash
# ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ì‚­ì œ (ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì œê±°)
az group delete --name rg-security-blog-automation-dev --yes --no-wait
```

### ë¶€ë¶„ ì •ë¦¬ (Storage ìœ ì§€)

```bash
# Function App ì‚­ì œ
az functionapp delete --name func-dev-security-blog-automation --resource-group rg-security-blog-automation-dev

# Logic App ì‚­ì œ
az logicapp delete --name logic-dev-security-blog-automation --resource-group rg-security-blog-automation-dev

# íˆìŠ¤í† ë¦¬ ë°ì´í„°ë¥¼ ìœ„í•´ Storage Account ìœ ì§€
```

## í”„ë¡œë•ì…˜ ë°°í¬

í”„ë¡œë•ì…˜ í™˜ê²½ì˜ ê²½ìš° ë‹¤ìŒì„ ê³ ë ¤í•˜ì„¸ìš”:

1. **í”„ë¡œë•ì…˜ íŒŒë¼ë¯¸í„° íŒŒì¼ ì‚¬ìš©**:
   ```bash
   .\deploy.ps1 -ParameterFile "./parameters/prod.bicepparam" -ResourceGroupName "rg-security-blog-automation-prod"
   ```

2. **í–¥ìƒëœ ë³´ì•ˆ í™œì„±í™”**:
   - ë¹„ë°€ì„ ìœ„í•´ Azure Key Vault ì‚¬ìš©
   - Storageìš© í”„ë¼ì´ë¹— ì—”ë“œí¬ì¸íŠ¸ í™œì„±í™”
   - ëª¨ë“  ì—°ê²°ì— ê´€ë¦¬ ID êµ¬ì„±
   - Azure Defender for Cloud í™œì„±í™”

3. **ëª¨ë‹ˆí„°ë§ êµ¬ì„±**:
   - Azure Monitor ê²½ê³  ì„¤ì •
   - ì‹¤íŒ¨ ì‹œ ì´ë©”ì¼ ì•Œë¦¼ êµ¬ì„±
   - ê°€ìš©ì„± í…ŒìŠ¤íŠ¸ í™œì„±í™”

4. **CI/CD êµ¬í˜„**:
   - GitHub Actions ë˜ëŠ” Azure DevOps ì‚¬ìš©
   - Bicep ë°°í¬ ìë™í™”
   - Function App ì½”ë“œ ë°°í¬ ìë™í™”

## ì§€ì› ë° í”¼ë“œë°±

- **GitHub Issues**: https://github.com/zer0big/azure-security-blog-automation/issues
- **Azure ì§€ì›**: [Azure Portal ì§€ì›](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade)
- **Microsoft ë¬¸ì„œ**: [Azure ë¬¸ì„œ](https://learn.microsoft.com/ko-kr/azure/)

## ë‹¤ìŒ ë‹¨ê³„

- ìƒì„¸í•œ ì‹œìŠ¤í…œ ì„¤ê³„ëŠ” [ì•„í‚¤í…ì²˜.md](ì•„í‚¤í…ì²˜.md) ê²€í† 
- ì›Œí¬í”Œë¡œìš° ìƒì„¸ ë¶„ì„ì€ [Logic-App-ì›Œí¬í”Œë¡œìš°.md](Logic-App-ì›Œí¬í”Œë¡œìš°.md) íƒìƒ‰
- `functions/GenerateEmailHtml.cs`ì—ì„œ ì´ë©”ì¼ í…œí”Œë¦¿ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- RSS í”¼ë“œ ì¶”ê°€ ë˜ëŠ” ìš”ì•½ í”„ë¡¬í”„íŠ¸ ë³€ê²½
